// Code generated by cmd/apigen from CUE ontology. DO NOT EDIT.
syntax = "proto3";

package propeller.v1;

option go_package = "github.com/matthewbaird/ontology/gen/proto;propellerv1";

import "google/protobuf/timestamp.proto";

// ─── Common Types ────────────────────────────────────────────────────────────

message Money {
  int64 amount_cents = 1;
  string currency = 2; // ISO 4217
}

message Address {
  string line1 = 1;
  string line2 = 2;
  string city = 3;
  string state = 4;
  string postal_code = 5;
  string country = 6;
  double latitude = 7;
  double longitude = 8;
  string county = 9;
}

message DateRange {
  google.protobuf.Timestamp start = 1;
  google.protobuf.Timestamp end = 2;
}

message ContactMethod {
  string type = 1;
  string value = 2;
  bool primary = 3;
  bool verified = 4;
  bool opt_out = 5;
  string label = 6;
}

message SideEffect {
  string entity_type = 1;
  string entity_id = 2;
  string description = 3;
}

// ─── Entity Messages ─────────────────────────────────────────────────────────

message Building {
  string id = 1;
  string property_id = 2;
  string name = 3;
  string building_type = 4;
  Address address = 5;
  string description = 6;
  string status = 7;
  int64 floors = 8;
  int64 year_built = 9;
  double total_square_footage = 10;
  double total_rentable_square_footage = 11;
  google.protobuf.Timestamp created_at = 12;
  google.protobuf.Timestamp updated_at = 13;
  string created_by = 14;
  string updated_by = 15;
  string source = 16;
}

message Portfolio {
  string id = 1;
  string name = 2;
  string owner_id = 3;
  string management_type = 4;
  bool requires_trust_accounting = 5;
  string trust_bank_account_id = 6;
  string status = 7;
  repeated string default_payment_methods = 8;
  int64 fiscal_year_start_month = 9;
  google.protobuf.Timestamp created_at = 10;
  google.protobuf.Timestamp updated_at = 11;
  string created_by = 12;
  string updated_by = 13;
  string source = 14;
}

message Property {
  string id = 1;
  string portfolio_id = 2;
  string name = 3;
  Address address = 4;
  string property_type = 5;
  string status = 6;
  int64 year_built = 7;
  double total_square_footage = 8;
  int64 total_spaces = 9;
  double lot_size_sqft = 10;
  int64 stories = 11;
  int64 parking_spaces = 12;
  string jurisdiction_id = 13;
  bool rent_controlled = 14;
  repeated string compliance_programs = 15;
  bool requires_lead_disclosure = 16;
  string chart_of_accounts_id = 17;
  string bank_account_id = 18;
  string insurance_policy_number = 19;
  google.protobuf.Timestamp insurance_expiry = 20;
  google.protobuf.Timestamp created_at = 21;
  google.protobuf.Timestamp updated_at = 22;
  string created_by = 23;
  string updated_by = 24;
  string source = 25;
}

message Space {
  string id = 1;
  string property_id = 2;
  string space_number = 3;
  string space_type = 4;
  string status = 5;
  string building_id = 6;
  string parent_space_id = 7;
  bool leasable = 8;
  bool shared_with_parent = 9;
  double square_footage = 10;
  int64 bedrooms = 11;
  double bathrooms = 12;
  int64 floor = 13;
  repeated string amenities = 14;
  string floor_plan = 15;
  bool ada_accessible = 16;
  bool pet_friendly = 17;
  bool furnished = 18;
  repeated string specialized_infrastructure = 19;
  Money market_rent = 20;
  int64 ami_restriction = 21;
  string active_lease_id = 22;
  google.protobuf.Timestamp created_at = 23;
  google.protobuf.Timestamp updated_at = 24;
  string created_by = 25;
  string updated_by = 26;
  string source = 27;
}

// ─── Service Definition ──────────────────────────────────────────────────────

service PropertyService {
  // Create a new portfolio
  rpc CreatePortfolio(CreatePortfolioRequest) returns (CreatePortfolioResponse);
  // Get portfolio by ID
  rpc GetPortfolio(GetPortfolioRequest) returns (GetPortfolioResponse);
  // List portfolios
  rpc ListPortfolios(ListPortfoliosRequest) returns (ListPortfoliosResponse);
  // Update portfolio
  rpc UpdatePortfolio(UpdatePortfolioRequest) returns (UpdatePortfolioResponse);
  // Activate a portfolio after onboarding
  rpc ActivatePortfolio(ActivatePortfolioRequest) returns (ActivatePortfolioResponse);
  // Create a new property
  rpc CreateProperty(CreatePropertyRequest) returns (CreatePropertyResponse);
  // Get property by ID
  rpc GetProperty(GetPropertyRequest) returns (GetPropertyResponse);
  // List properties with filtering
  rpc ListProperties(ListPropertiesRequest) returns (ListPropertiesResponse);
  // Update property fields
  rpc UpdateProperty(UpdatePropertyRequest) returns (UpdatePropertyResponse);
  // Activate a property after onboarding
  rpc ActivateProperty(ActivatePropertyRequest) returns (ActivatePropertyResponse);
  // Create a new building
  rpc CreateBuilding(CreateBuildingRequest) returns (CreateBuildingResponse);
  // Get building by ID
  rpc GetBuilding(GetBuildingRequest) returns (GetBuildingResponse);
  // List buildings
  rpc ListBuildings(ListBuildingsRequest) returns (ListBuildingsResponse);
  // Update building
  rpc UpdateBuilding(UpdateBuildingRequest) returns (UpdateBuildingResponse);
  // Deactivate a building
  rpc DeactivateBuilding(DeactivateBuildingRequest) returns (DeactivateBuildingResponse);
  // Start building renovation
  rpc StartBuildingRenovation(StartBuildingRenovationRequest) returns (StartBuildingRenovationResponse);
  // Activate a building
  rpc ActivateBuilding(ActivateBuildingRequest) returns (ActivateBuildingResponse);
  // Create a new space within a property
  rpc CreateSpace(CreateSpaceRequest) returns (CreateSpaceResponse);
  // Get space by ID
  rpc GetSpace(GetSpaceRequest) returns (GetSpaceResponse);
  // List spaces with filtering
  rpc ListSpaces(ListSpacesRequest) returns (ListSpacesResponse);
  // Update space fields
  rpc UpdateSpace(UpdateSpaceRequest) returns (UpdateSpaceResponse);
  // Mark a space as occupied
  rpc OccupySpace(OccupySpaceRequest) returns (OccupySpaceResponse);
  // Record notice to vacate
  rpc RecordSpaceNotice(RecordSpaceNoticeRequest) returns (RecordSpaceNoticeResponse);
  // Rescind a notice to vacate
  rpc RescindSpaceNotice(RescindSpaceNoticeRequest) returns (RescindSpaceNoticeResponse);
  // Start make-ready process
  rpc StartMakeReady(StartMakeReadyRequest) returns (StartMakeReadyResponse);
  // Mark a space as vacant
  rpc MarkSpaceVacant(MarkSpaceVacantRequest) returns (MarkSpaceVacantResponse);
  // Mark a space as down (out of service)
  rpc MarkSpaceDown(MarkSpaceDownRequest) returns (MarkSpaceDownResponse);
  // Mark a space as a model unit
  rpc MarkSpaceModel(MarkSpaceModelRequest) returns (MarkSpaceModelResponse);
  // Reserve a space
  rpc ReserveSpace(ReserveSpaceRequest) returns (ReserveSpaceResponse);
}

// ─── Request/Response Messages ───────────────────────────────────────────────

message CreatePortfolioRequest {
  Portfolio portfolio = 1;
}

message CreatePortfolioResponse {
  Portfolio portfolio = 1;
}

message GetPortfolioRequest {
  string id = 1;
  repeated string include = 2; // Edge names to include
}

message GetPortfolioResponse {
  Portfolio portfolio = 1;
}

message ListPortfoliosRequest {
  int32 page_size = 1;
  string page_token = 2;
  string filter = 3;
  string order_by = 4;
}

message ListPortfoliosResponse {
  repeated Portfolio portfolios = 1;
  string next_page_token = 2;
  int32 total_count = 3;
}

message UpdatePortfolioRequest {
  Portfolio portfolio = 1;
  repeated string update_mask = 2; // Fields to update
}

message UpdatePortfolioResponse {
  Portfolio portfolio = 1;
}

message ActivatePortfolioRequest {
  string id = 1;
}

message ActivatePortfolioResponse {
  Portfolio portfolio = 1;
  repeated SideEffect side_effects = 2;
}

message CreatePropertyRequest {
  Property property = 1;
}

message CreatePropertyResponse {
  Property property = 1;
}

message GetPropertyRequest {
  string id = 1;
  repeated string include = 2; // Edge names to include
}

message GetPropertyResponse {
  Property property = 1;
}

message ListPropertiesRequest {
  int32 page_size = 1;
  string page_token = 2;
  string filter = 3;
  string order_by = 4;
}

message ListPropertiesResponse {
  repeated Property propertys = 1;
  string next_page_token = 2;
  int32 total_count = 3;
}

message UpdatePropertyRequest {
  Property property = 1;
  repeated string update_mask = 2; // Fields to update
}

message UpdatePropertyResponse {
  Property property = 1;
}

message ActivatePropertyRequest {
  string id = 1;
}

message ActivatePropertyResponse {
  Property property = 1;
  repeated SideEffect side_effects = 2;
}

message CreateBuildingRequest {
  Building building = 1;
}

message CreateBuildingResponse {
  Building building = 1;
}

message GetBuildingRequest {
  string id = 1;
  repeated string include = 2; // Edge names to include
}

message GetBuildingResponse {
  Building building = 1;
}

message ListBuildingsRequest {
  int32 page_size = 1;
  string page_token = 2;
  string filter = 3;
  string order_by = 4;
}

message ListBuildingsResponse {
  repeated Building buildings = 1;
  string next_page_token = 2;
  int32 total_count = 3;
}

message UpdateBuildingRequest {
  Building building = 1;
  repeated string update_mask = 2; // Fields to update
}

message UpdateBuildingResponse {
  Building building = 1;
}

message DeactivateBuildingRequest {
  string id = 1;
}

message DeactivateBuildingResponse {
  Building building = 1;
  repeated SideEffect side_effects = 2;
}

message StartBuildingRenovationRequest {
  string id = 1;
}

message StartBuildingRenovationResponse {
  Building building = 1;
  repeated SideEffect side_effects = 2;
}

message ActivateBuildingRequest {
  string id = 1;
}

message ActivateBuildingResponse {
  Building building = 1;
  repeated SideEffect side_effects = 2;
}

message CreateSpaceRequest {
  Space space = 1;
}

message CreateSpaceResponse {
  Space space = 1;
}

message GetSpaceRequest {
  string id = 1;
  repeated string include = 2; // Edge names to include
}

message GetSpaceResponse {
  Space space = 1;
}

message ListSpacesRequest {
  int32 page_size = 1;
  string page_token = 2;
  string filter = 3;
  string order_by = 4;
}

message ListSpacesResponse {
  repeated Space spaces = 1;
  string next_page_token = 2;
  int32 total_count = 3;
}

message UpdateSpaceRequest {
  Space space = 1;
  repeated string update_mask = 2; // Fields to update
}

message UpdateSpaceResponse {
  Space space = 1;
}

message OccupySpaceRequest {
  string id = 1;
}

message OccupySpaceResponse {
  Space space = 1;
  repeated SideEffect side_effects = 2;
}

message RecordSpaceNoticeRequest {
  string id = 1;
}

message RecordSpaceNoticeResponse {
  Space space = 1;
  repeated SideEffect side_effects = 2;
}

message RescindSpaceNoticeRequest {
  string id = 1;
}

message RescindSpaceNoticeResponse {
  Space space = 1;
  repeated SideEffect side_effects = 2;
}

message StartMakeReadyRequest {
  string id = 1;
}

message StartMakeReadyResponse {
  Space space = 1;
  repeated SideEffect side_effects = 2;
}

message MarkSpaceVacantRequest {
  string id = 1;
}

message MarkSpaceVacantResponse {
  Space space = 1;
  repeated SideEffect side_effects = 2;
}

message MarkSpaceDownRequest {
  string id = 1;
}

message MarkSpaceDownResponse {
  Space space = 1;
  repeated SideEffect side_effects = 2;
}

message MarkSpaceModelRequest {
  string id = 1;
}

message MarkSpaceModelResponse {
  Space space = 1;
  repeated SideEffect side_effects = 2;
}

message ReserveSpaceRequest {
  string id = 1;
}

message ReserveSpaceResponse {
  Space space = 1;
  repeated SideEffect side_effects = 2;
}

