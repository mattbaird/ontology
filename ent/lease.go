// Code generated by ent, DO NOT EDIT.

package ent

import (
	"encoding/json"
	"fmt"
	"strings"
	"time"

	"entgo.io/ent"
	"entgo.io/ent/dialect/sql"
	"github.com/google/uuid"
	"github.com/matthewbaird/ontology/ent/application"
	"github.com/matthewbaird/ontology/ent/lease"
	"github.com/matthewbaird/ontology/internal/types"
)

// Lease is the model entity for the Lease schema.
type Lease struct {
	config `json:"-"`
	// ID of the ent.
	// Primary key
	ID uuid.UUID `json:"id,omitempty"`
	// When the entity was created
	CreatedAt time.Time `json:"created_at,omitempty"`
	// When the entity was last updated
	UpdatedAt time.Time `json:"updated_at,omitempty"`
	// User ID, agent ID, or 'system' who created this entity
	CreatedBy string `json:"created_by,omitempty"`
	// User ID, agent ID, or 'system' who last updated this entity
	UpdatedBy string `json:"updated_by,omitempty"`
	// Origin of the change
	Source lease.Source `json:"source,omitempty"`
	// Links related changes across entities
	CorrelationID *string `json:"correlation_id,omitempty"`
	// If source == 'agent', which goal triggered this change
	AgentGoalID *string `json:"agent_goal_id,omitempty"`
	// PropertyID holds the value of the "property_id" field.
	PropertyID string `json:"property_id,omitempty"`
	// TenantRoleIds holds the value of the "tenant_role_ids" field.
	TenantRoleIds []string `json:"tenant_role_ids,omitempty"`
	// GuarantorRoleIds holds the value of the "guarantor_role_ids" field.
	GuarantorRoleIds []string `json:"guarantor_role_ids,omitempty"`
	// LeaseType holds the value of the "lease_type" field.
	LeaseType lease.LeaseType `json:"lease_type,omitempty"`
	// Status holds the value of the "status" field.
	Status lease.Status `json:"status,omitempty"`
	// LiabilityType holds the value of the "liability_type" field.
	LiabilityType lease.LiabilityType `json:"liability_type,omitempty"`
	// Term holds the value of the "term" field.
	Term *types.DateRange `json:"term,omitempty"`
	// LeaseCommencementDate holds the value of the "lease_commencement_date" field.
	LeaseCommencementDate *time.Time `json:"lease_commencement_date,omitempty"`
	// RentCommencementDate holds the value of the "rent_commencement_date" field.
	RentCommencementDate *time.Time `json:"rent_commencement_date,omitempty"`
	// base_rent — amount in cents
	BaseRentAmountCents int64 `json:"base_rent_amount_cents,omitempty"`
	// base_rent — ISO 4217 currency code
	BaseRentCurrency string `json:"base_rent_currency,omitempty"`
	// security_deposit — amount in cents
	SecurityDepositAmountCents int64 `json:"security_deposit_amount_cents,omitempty"`
	// security_deposit — ISO 4217 currency code
	SecurityDepositCurrency string `json:"security_deposit_currency,omitempty"`
	// RentSchedule holds the value of the "rent_schedule" field.
	RentSchedule []types.RentScheduleEntry `json:"rent_schedule,omitempty"`
	// RecurringCharges holds the value of the "recurring_charges" field.
	RecurringCharges []types.RecurringCharge `json:"recurring_charges,omitempty"`
	// LateFeePolicy holds the value of the "late_fee_policy" field.
	LateFeePolicy *types.LateFeePolicy `json:"late_fee_policy,omitempty"`
	// CamTerms holds the value of the "cam_terms" field.
	CamTerms *types.CAMTerms `json:"cam_terms,omitempty"`
	// TenantImprovement holds the value of the "tenant_improvement" field.
	TenantImprovement *types.TenantImprovement `json:"tenant_improvement,omitempty"`
	// RenewalOptions holds the value of the "renewal_options" field.
	RenewalOptions []types.RenewalOption `json:"renewal_options,omitempty"`
	// UsageCharges holds the value of the "usage_charges" field.
	UsageCharges []types.UsageBasedCharge `json:"usage_charges,omitempty"`
	// PercentageRent holds the value of the "percentage_rent" field.
	PercentageRent *types.PercentageRent `json:"percentage_rent,omitempty"`
	// ExpansionRights holds the value of the "expansion_rights" field.
	ExpansionRights []types.ExpansionRight `json:"expansion_rights,omitempty"`
	// ContractionRights holds the value of the "contraction_rights" field.
	ContractionRights []types.ContractionRight `json:"contraction_rights,omitempty"`
	// Subsidy holds the value of the "subsidy" field.
	Subsidy *types.SubsidyTerms `json:"subsidy,omitempty"`
	// MoveInDate holds the value of the "move_in_date" field.
	MoveInDate *time.Time `json:"move_in_date,omitempty"`
	// MoveOutDate holds the value of the "move_out_date" field.
	MoveOutDate *time.Time `json:"move_out_date,omitempty"`
	// NoticeDate holds the value of the "notice_date" field.
	NoticeDate *time.Time `json:"notice_date,omitempty"`
	// NoticeRequiredDays holds the value of the "notice_required_days" field.
	NoticeRequiredDays int `json:"notice_required_days,omitempty"`
	// CheckInTime holds the value of the "check_in_time" field.
	CheckInTime *string `json:"check_in_time,omitempty"`
	// CheckOutTime holds the value of the "check_out_time" field.
	CheckOutTime *string `json:"check_out_time,omitempty"`
	// cleaning_fee — amount in cents
	CleaningFeeAmountCents *int64 `json:"cleaning_fee_amount_cents,omitempty"`
	// cleaning_fee — ISO 4217 currency code
	CleaningFeeCurrency *string `json:"cleaning_fee_currency,omitempty"`
	// PlatformBookingID holds the value of the "platform_booking_id" field.
	PlatformBookingID *string `json:"platform_booking_id,omitempty"`
	// MembershipTier holds the value of the "membership_tier" field.
	MembershipTier *lease.MembershipTier `json:"membership_tier,omitempty"`
	// IsSublease holds the value of the "is_sublease" field.
	IsSublease bool `json:"is_sublease,omitempty"`
	// SubleaseBilling holds the value of the "sublease_billing" field.
	SubleaseBilling lease.SubleaseBilling `json:"sublease_billing,omitempty"`
	// SigningMethod holds the value of the "signing_method" field.
	SigningMethod *lease.SigningMethod `json:"signing_method,omitempty"`
	// SignedAt holds the value of the "signed_at" field.
	SignedAt *time.Time `json:"signed_at,omitempty"`
	// DocumentID holds the value of the "document_id" field.
	DocumentID *string `json:"document_id,omitempty"`
	// Edges holds the relations/edges for other nodes in the graph.
	// The values are being populated by the LeaseQuery when eager-loading is set.
	Edges           LeaseEdges `json:"edges"`
	lease_subleases *uuid.UUID
	selectValues    sql.SelectValues
}

// LeaseEdges holds the relations/edges for other nodes in the graph.
type LeaseEdges struct {
	// LeaseSpace belongs to Lease (inverse)
	LeaseSpaces []*LeaseSpace `json:"lease_spaces,omitempty"`
	// Lease is held by tenant PersonRoles
	TenantRoles []*PersonRole `json:"tenant_roles,omitempty"`
	// Lease is guaranteed by guarantor PersonRoles
	GuarantorRoles []*PersonRole `json:"guarantor_roles,omitempty"`
	// Lease generates LedgerEntries
	LedgerEntries []*LedgerEntry `json:"ledger_entries,omitempty"`
	// Lease originated from Application
	Application *Application `json:"application,omitempty"`
	// Lease has subleases
	Subleases []*Lease `json:"subleases,omitempty"`
	// Lease has subleases (inverse)
	ParentLease *Lease `json:"parent_lease,omitempty"`
	// loadedTypes holds the information for reporting if a
	// type was loaded (or requested) in eager-loading or not.
	loadedTypes [7]bool
}

// LeaseSpacesOrErr returns the LeaseSpaces value or an error if the edge
// was not loaded in eager-loading.
func (e LeaseEdges) LeaseSpacesOrErr() ([]*LeaseSpace, error) {
	if e.loadedTypes[0] {
		return e.LeaseSpaces, nil
	}
	return nil, &NotLoadedError{edge: "lease_spaces"}
}

// TenantRolesOrErr returns the TenantRoles value or an error if the edge
// was not loaded in eager-loading.
func (e LeaseEdges) TenantRolesOrErr() ([]*PersonRole, error) {
	if e.loadedTypes[1] {
		return e.TenantRoles, nil
	}
	return nil, &NotLoadedError{edge: "tenant_roles"}
}

// GuarantorRolesOrErr returns the GuarantorRoles value or an error if the edge
// was not loaded in eager-loading.
func (e LeaseEdges) GuarantorRolesOrErr() ([]*PersonRole, error) {
	if e.loadedTypes[2] {
		return e.GuarantorRoles, nil
	}
	return nil, &NotLoadedError{edge: "guarantor_roles"}
}

// LedgerEntriesOrErr returns the LedgerEntries value or an error if the edge
// was not loaded in eager-loading.
func (e LeaseEdges) LedgerEntriesOrErr() ([]*LedgerEntry, error) {
	if e.loadedTypes[3] {
		return e.LedgerEntries, nil
	}
	return nil, &NotLoadedError{edge: "ledger_entries"}
}

// ApplicationOrErr returns the Application value or an error if the edge
// was not loaded in eager-loading, or loaded but was not found.
func (e LeaseEdges) ApplicationOrErr() (*Application, error) {
	if e.Application != nil {
		return e.Application, nil
	} else if e.loadedTypes[4] {
		return nil, &NotFoundError{label: application.Label}
	}
	return nil, &NotLoadedError{edge: "application"}
}

// SubleasesOrErr returns the Subleases value or an error if the edge
// was not loaded in eager-loading.
func (e LeaseEdges) SubleasesOrErr() ([]*Lease, error) {
	if e.loadedTypes[5] {
		return e.Subleases, nil
	}
	return nil, &NotLoadedError{edge: "subleases"}
}

// ParentLeaseOrErr returns the ParentLease value or an error if the edge
// was not loaded in eager-loading, or loaded but was not found.
func (e LeaseEdges) ParentLeaseOrErr() (*Lease, error) {
	if e.ParentLease != nil {
		return e.ParentLease, nil
	} else if e.loadedTypes[6] {
		return nil, &NotFoundError{label: lease.Label}
	}
	return nil, &NotLoadedError{edge: "parent_lease"}
}

// scanValues returns the types for scanning values from sql.Rows.
func (*Lease) scanValues(columns []string) ([]any, error) {
	values := make([]any, len(columns))
	for i := range columns {
		switch columns[i] {
		case lease.FieldTenantRoleIds, lease.FieldGuarantorRoleIds, lease.FieldTerm, lease.FieldRentSchedule, lease.FieldRecurringCharges, lease.FieldLateFeePolicy, lease.FieldCamTerms, lease.FieldTenantImprovement, lease.FieldRenewalOptions, lease.FieldUsageCharges, lease.FieldPercentageRent, lease.FieldExpansionRights, lease.FieldContractionRights, lease.FieldSubsidy:
			values[i] = new([]byte)
		case lease.FieldIsSublease:
			values[i] = new(sql.NullBool)
		case lease.FieldBaseRentAmountCents, lease.FieldSecurityDepositAmountCents, lease.FieldNoticeRequiredDays, lease.FieldCleaningFeeAmountCents:
			values[i] = new(sql.NullInt64)
		case lease.FieldCreatedBy, lease.FieldUpdatedBy, lease.FieldSource, lease.FieldCorrelationID, lease.FieldAgentGoalID, lease.FieldPropertyID, lease.FieldLeaseType, lease.FieldStatus, lease.FieldLiabilityType, lease.FieldBaseRentCurrency, lease.FieldSecurityDepositCurrency, lease.FieldCheckInTime, lease.FieldCheckOutTime, lease.FieldCleaningFeeCurrency, lease.FieldPlatformBookingID, lease.FieldMembershipTier, lease.FieldSubleaseBilling, lease.FieldSigningMethod, lease.FieldDocumentID:
			values[i] = new(sql.NullString)
		case lease.FieldCreatedAt, lease.FieldUpdatedAt, lease.FieldLeaseCommencementDate, lease.FieldRentCommencementDate, lease.FieldMoveInDate, lease.FieldMoveOutDate, lease.FieldNoticeDate, lease.FieldSignedAt:
			values[i] = new(sql.NullTime)
		case lease.FieldID:
			values[i] = new(uuid.UUID)
		case lease.ForeignKeys[0]: // lease_subleases
			values[i] = &sql.NullScanner{S: new(uuid.UUID)}
		default:
			values[i] = new(sql.UnknownType)
		}
	}
	return values, nil
}

// assignValues assigns the values that were returned from sql.Rows (after scanning)
// to the Lease fields.
func (_m *Lease) assignValues(columns []string, values []any) error {
	if m, n := len(values), len(columns); m < n {
		return fmt.Errorf("mismatch number of scan values: %d != %d", m, n)
	}
	for i := range columns {
		switch columns[i] {
		case lease.FieldID:
			if value, ok := values[i].(*uuid.UUID); !ok {
				return fmt.Errorf("unexpected type %T for field id", values[i])
			} else if value != nil {
				_m.ID = *value
			}
		case lease.FieldCreatedAt:
			if value, ok := values[i].(*sql.NullTime); !ok {
				return fmt.Errorf("unexpected type %T for field created_at", values[i])
			} else if value.Valid {
				_m.CreatedAt = value.Time
			}
		case lease.FieldUpdatedAt:
			if value, ok := values[i].(*sql.NullTime); !ok {
				return fmt.Errorf("unexpected type %T for field updated_at", values[i])
			} else if value.Valid {
				_m.UpdatedAt = value.Time
			}
		case lease.FieldCreatedBy:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field created_by", values[i])
			} else if value.Valid {
				_m.CreatedBy = value.String
			}
		case lease.FieldUpdatedBy:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field updated_by", values[i])
			} else if value.Valid {
				_m.UpdatedBy = value.String
			}
		case lease.FieldSource:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field source", values[i])
			} else if value.Valid {
				_m.Source = lease.Source(value.String)
			}
		case lease.FieldCorrelationID:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field correlation_id", values[i])
			} else if value.Valid {
				_m.CorrelationID = new(string)
				*_m.CorrelationID = value.String
			}
		case lease.FieldAgentGoalID:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field agent_goal_id", values[i])
			} else if value.Valid {
				_m.AgentGoalID = new(string)
				*_m.AgentGoalID = value.String
			}
		case lease.FieldPropertyID:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field property_id", values[i])
			} else if value.Valid {
				_m.PropertyID = value.String
			}
		case lease.FieldTenantRoleIds:
			if value, ok := values[i].(*[]byte); !ok {
				return fmt.Errorf("unexpected type %T for field tenant_role_ids", values[i])
			} else if value != nil && len(*value) > 0 {
				if err := json.Unmarshal(*value, &_m.TenantRoleIds); err != nil {
					return fmt.Errorf("unmarshal field tenant_role_ids: %w", err)
				}
			}
		case lease.FieldGuarantorRoleIds:
			if value, ok := values[i].(*[]byte); !ok {
				return fmt.Errorf("unexpected type %T for field guarantor_role_ids", values[i])
			} else if value != nil && len(*value) > 0 {
				if err := json.Unmarshal(*value, &_m.GuarantorRoleIds); err != nil {
					return fmt.Errorf("unmarshal field guarantor_role_ids: %w", err)
				}
			}
		case lease.FieldLeaseType:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field lease_type", values[i])
			} else if value.Valid {
				_m.LeaseType = lease.LeaseType(value.String)
			}
		case lease.FieldStatus:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field status", values[i])
			} else if value.Valid {
				_m.Status = lease.Status(value.String)
			}
		case lease.FieldLiabilityType:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field liability_type", values[i])
			} else if value.Valid {
				_m.LiabilityType = lease.LiabilityType(value.String)
			}
		case lease.FieldTerm:
			if value, ok := values[i].(*[]byte); !ok {
				return fmt.Errorf("unexpected type %T for field term", values[i])
			} else if value != nil && len(*value) > 0 {
				if err := json.Unmarshal(*value, &_m.Term); err != nil {
					return fmt.Errorf("unmarshal field term: %w", err)
				}
			}
		case lease.FieldLeaseCommencementDate:
			if value, ok := values[i].(*sql.NullTime); !ok {
				return fmt.Errorf("unexpected type %T for field lease_commencement_date", values[i])
			} else if value.Valid {
				_m.LeaseCommencementDate = new(time.Time)
				*_m.LeaseCommencementDate = value.Time
			}
		case lease.FieldRentCommencementDate:
			if value, ok := values[i].(*sql.NullTime); !ok {
				return fmt.Errorf("unexpected type %T for field rent_commencement_date", values[i])
			} else if value.Valid {
				_m.RentCommencementDate = new(time.Time)
				*_m.RentCommencementDate = value.Time
			}
		case lease.FieldBaseRentAmountCents:
			if value, ok := values[i].(*sql.NullInt64); !ok {
				return fmt.Errorf("unexpected type %T for field base_rent_amount_cents", values[i])
			} else if value.Valid {
				_m.BaseRentAmountCents = value.Int64
			}
		case lease.FieldBaseRentCurrency:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field base_rent_currency", values[i])
			} else if value.Valid {
				_m.BaseRentCurrency = value.String
			}
		case lease.FieldSecurityDepositAmountCents:
			if value, ok := values[i].(*sql.NullInt64); !ok {
				return fmt.Errorf("unexpected type %T for field security_deposit_amount_cents", values[i])
			} else if value.Valid {
				_m.SecurityDepositAmountCents = value.Int64
			}
		case lease.FieldSecurityDepositCurrency:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field security_deposit_currency", values[i])
			} else if value.Valid {
				_m.SecurityDepositCurrency = value.String
			}
		case lease.FieldRentSchedule:
			if value, ok := values[i].(*[]byte); !ok {
				return fmt.Errorf("unexpected type %T for field rent_schedule", values[i])
			} else if value != nil && len(*value) > 0 {
				if err := json.Unmarshal(*value, &_m.RentSchedule); err != nil {
					return fmt.Errorf("unmarshal field rent_schedule: %w", err)
				}
			}
		case lease.FieldRecurringCharges:
			if value, ok := values[i].(*[]byte); !ok {
				return fmt.Errorf("unexpected type %T for field recurring_charges", values[i])
			} else if value != nil && len(*value) > 0 {
				if err := json.Unmarshal(*value, &_m.RecurringCharges); err != nil {
					return fmt.Errorf("unmarshal field recurring_charges: %w", err)
				}
			}
		case lease.FieldLateFeePolicy:
			if value, ok := values[i].(*[]byte); !ok {
				return fmt.Errorf("unexpected type %T for field late_fee_policy", values[i])
			} else if value != nil && len(*value) > 0 {
				if err := json.Unmarshal(*value, &_m.LateFeePolicy); err != nil {
					return fmt.Errorf("unmarshal field late_fee_policy: %w", err)
				}
			}
		case lease.FieldCamTerms:
			if value, ok := values[i].(*[]byte); !ok {
				return fmt.Errorf("unexpected type %T for field cam_terms", values[i])
			} else if value != nil && len(*value) > 0 {
				if err := json.Unmarshal(*value, &_m.CamTerms); err != nil {
					return fmt.Errorf("unmarshal field cam_terms: %w", err)
				}
			}
		case lease.FieldTenantImprovement:
			if value, ok := values[i].(*[]byte); !ok {
				return fmt.Errorf("unexpected type %T for field tenant_improvement", values[i])
			} else if value != nil && len(*value) > 0 {
				if err := json.Unmarshal(*value, &_m.TenantImprovement); err != nil {
					return fmt.Errorf("unmarshal field tenant_improvement: %w", err)
				}
			}
		case lease.FieldRenewalOptions:
			if value, ok := values[i].(*[]byte); !ok {
				return fmt.Errorf("unexpected type %T for field renewal_options", values[i])
			} else if value != nil && len(*value) > 0 {
				if err := json.Unmarshal(*value, &_m.RenewalOptions); err != nil {
					return fmt.Errorf("unmarshal field renewal_options: %w", err)
				}
			}
		case lease.FieldUsageCharges:
			if value, ok := values[i].(*[]byte); !ok {
				return fmt.Errorf("unexpected type %T for field usage_charges", values[i])
			} else if value != nil && len(*value) > 0 {
				if err := json.Unmarshal(*value, &_m.UsageCharges); err != nil {
					return fmt.Errorf("unmarshal field usage_charges: %w", err)
				}
			}
		case lease.FieldPercentageRent:
			if value, ok := values[i].(*[]byte); !ok {
				return fmt.Errorf("unexpected type %T for field percentage_rent", values[i])
			} else if value != nil && len(*value) > 0 {
				if err := json.Unmarshal(*value, &_m.PercentageRent); err != nil {
					return fmt.Errorf("unmarshal field percentage_rent: %w", err)
				}
			}
		case lease.FieldExpansionRights:
			if value, ok := values[i].(*[]byte); !ok {
				return fmt.Errorf("unexpected type %T for field expansion_rights", values[i])
			} else if value != nil && len(*value) > 0 {
				if err := json.Unmarshal(*value, &_m.ExpansionRights); err != nil {
					return fmt.Errorf("unmarshal field expansion_rights: %w", err)
				}
			}
		case lease.FieldContractionRights:
			if value, ok := values[i].(*[]byte); !ok {
				return fmt.Errorf("unexpected type %T for field contraction_rights", values[i])
			} else if value != nil && len(*value) > 0 {
				if err := json.Unmarshal(*value, &_m.ContractionRights); err != nil {
					return fmt.Errorf("unmarshal field contraction_rights: %w", err)
				}
			}
		case lease.FieldSubsidy:
			if value, ok := values[i].(*[]byte); !ok {
				return fmt.Errorf("unexpected type %T for field subsidy", values[i])
			} else if value != nil && len(*value) > 0 {
				if err := json.Unmarshal(*value, &_m.Subsidy); err != nil {
					return fmt.Errorf("unmarshal field subsidy: %w", err)
				}
			}
		case lease.FieldMoveInDate:
			if value, ok := values[i].(*sql.NullTime); !ok {
				return fmt.Errorf("unexpected type %T for field move_in_date", values[i])
			} else if value.Valid {
				_m.MoveInDate = new(time.Time)
				*_m.MoveInDate = value.Time
			}
		case lease.FieldMoveOutDate:
			if value, ok := values[i].(*sql.NullTime); !ok {
				return fmt.Errorf("unexpected type %T for field move_out_date", values[i])
			} else if value.Valid {
				_m.MoveOutDate = new(time.Time)
				*_m.MoveOutDate = value.Time
			}
		case lease.FieldNoticeDate:
			if value, ok := values[i].(*sql.NullTime); !ok {
				return fmt.Errorf("unexpected type %T for field notice_date", values[i])
			} else if value.Valid {
				_m.NoticeDate = new(time.Time)
				*_m.NoticeDate = value.Time
			}
		case lease.FieldNoticeRequiredDays:
			if value, ok := values[i].(*sql.NullInt64); !ok {
				return fmt.Errorf("unexpected type %T for field notice_required_days", values[i])
			} else if value.Valid {
				_m.NoticeRequiredDays = int(value.Int64)
			}
		case lease.FieldCheckInTime:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field check_in_time", values[i])
			} else if value.Valid {
				_m.CheckInTime = new(string)
				*_m.CheckInTime = value.String
			}
		case lease.FieldCheckOutTime:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field check_out_time", values[i])
			} else if value.Valid {
				_m.CheckOutTime = new(string)
				*_m.CheckOutTime = value.String
			}
		case lease.FieldCleaningFeeAmountCents:
			if value, ok := values[i].(*sql.NullInt64); !ok {
				return fmt.Errorf("unexpected type %T for field cleaning_fee_amount_cents", values[i])
			} else if value.Valid {
				_m.CleaningFeeAmountCents = new(int64)
				*_m.CleaningFeeAmountCents = value.Int64
			}
		case lease.FieldCleaningFeeCurrency:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field cleaning_fee_currency", values[i])
			} else if value.Valid {
				_m.CleaningFeeCurrency = new(string)
				*_m.CleaningFeeCurrency = value.String
			}
		case lease.FieldPlatformBookingID:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field platform_booking_id", values[i])
			} else if value.Valid {
				_m.PlatformBookingID = new(string)
				*_m.PlatformBookingID = value.String
			}
		case lease.FieldMembershipTier:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field membership_tier", values[i])
			} else if value.Valid {
				_m.MembershipTier = new(lease.MembershipTier)
				*_m.MembershipTier = lease.MembershipTier(value.String)
			}
		case lease.FieldIsSublease:
			if value, ok := values[i].(*sql.NullBool); !ok {
				return fmt.Errorf("unexpected type %T for field is_sublease", values[i])
			} else if value.Valid {
				_m.IsSublease = value.Bool
			}
		case lease.FieldSubleaseBilling:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field sublease_billing", values[i])
			} else if value.Valid {
				_m.SubleaseBilling = lease.SubleaseBilling(value.String)
			}
		case lease.FieldSigningMethod:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field signing_method", values[i])
			} else if value.Valid {
				_m.SigningMethod = new(lease.SigningMethod)
				*_m.SigningMethod = lease.SigningMethod(value.String)
			}
		case lease.FieldSignedAt:
			if value, ok := values[i].(*sql.NullTime); !ok {
				return fmt.Errorf("unexpected type %T for field signed_at", values[i])
			} else if value.Valid {
				_m.SignedAt = new(time.Time)
				*_m.SignedAt = value.Time
			}
		case lease.FieldDocumentID:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field document_id", values[i])
			} else if value.Valid {
				_m.DocumentID = new(string)
				*_m.DocumentID = value.String
			}
		case lease.ForeignKeys[0]:
			if value, ok := values[i].(*sql.NullScanner); !ok {
				return fmt.Errorf("unexpected type %T for field lease_subleases", values[i])
			} else if value.Valid {
				_m.lease_subleases = new(uuid.UUID)
				*_m.lease_subleases = *value.S.(*uuid.UUID)
			}
		default:
			_m.selectValues.Set(columns[i], values[i])
		}
	}
	return nil
}

// Value returns the ent.Value that was dynamically selected and assigned to the Lease.
// This includes values selected through modifiers, order, etc.
func (_m *Lease) Value(name string) (ent.Value, error) {
	return _m.selectValues.Get(name)
}

// QueryLeaseSpaces queries the "lease_spaces" edge of the Lease entity.
func (_m *Lease) QueryLeaseSpaces() *LeaseSpaceQuery {
	return NewLeaseClient(_m.config).QueryLeaseSpaces(_m)
}

// QueryTenantRoles queries the "tenant_roles" edge of the Lease entity.
func (_m *Lease) QueryTenantRoles() *PersonRoleQuery {
	return NewLeaseClient(_m.config).QueryTenantRoles(_m)
}

// QueryGuarantorRoles queries the "guarantor_roles" edge of the Lease entity.
func (_m *Lease) QueryGuarantorRoles() *PersonRoleQuery {
	return NewLeaseClient(_m.config).QueryGuarantorRoles(_m)
}

// QueryLedgerEntries queries the "ledger_entries" edge of the Lease entity.
func (_m *Lease) QueryLedgerEntries() *LedgerEntryQuery {
	return NewLeaseClient(_m.config).QueryLedgerEntries(_m)
}

// QueryApplication queries the "application" edge of the Lease entity.
func (_m *Lease) QueryApplication() *ApplicationQuery {
	return NewLeaseClient(_m.config).QueryApplication(_m)
}

// QuerySubleases queries the "subleases" edge of the Lease entity.
func (_m *Lease) QuerySubleases() *LeaseQuery {
	return NewLeaseClient(_m.config).QuerySubleases(_m)
}

// QueryParentLease queries the "parent_lease" edge of the Lease entity.
func (_m *Lease) QueryParentLease() *LeaseQuery {
	return NewLeaseClient(_m.config).QueryParentLease(_m)
}

// Update returns a builder for updating this Lease.
// Note that you need to call Lease.Unwrap() before calling this method if this Lease
// was returned from a transaction, and the transaction was committed or rolled back.
func (_m *Lease) Update() *LeaseUpdateOne {
	return NewLeaseClient(_m.config).UpdateOne(_m)
}

// Unwrap unwraps the Lease entity that was returned from a transaction after it was closed,
// so that all future queries will be executed through the driver which created the transaction.
func (_m *Lease) Unwrap() *Lease {
	_tx, ok := _m.config.driver.(*txDriver)
	if !ok {
		panic("ent: Lease is not a transactional entity")
	}
	_m.config.driver = _tx.drv
	return _m
}

// String implements the fmt.Stringer.
func (_m *Lease) String() string {
	var builder strings.Builder
	builder.WriteString("Lease(")
	builder.WriteString(fmt.Sprintf("id=%v, ", _m.ID))
	builder.WriteString("created_at=")
	builder.WriteString(_m.CreatedAt.Format(time.ANSIC))
	builder.WriteString(", ")
	builder.WriteString("updated_at=")
	builder.WriteString(_m.UpdatedAt.Format(time.ANSIC))
	builder.WriteString(", ")
	builder.WriteString("created_by=")
	builder.WriteString(_m.CreatedBy)
	builder.WriteString(", ")
	builder.WriteString("updated_by=")
	builder.WriteString(_m.UpdatedBy)
	builder.WriteString(", ")
	builder.WriteString("source=")
	builder.WriteString(fmt.Sprintf("%v", _m.Source))
	builder.WriteString(", ")
	if v := _m.CorrelationID; v != nil {
		builder.WriteString("correlation_id=")
		builder.WriteString(*v)
	}
	builder.WriteString(", ")
	if v := _m.AgentGoalID; v != nil {
		builder.WriteString("agent_goal_id=")
		builder.WriteString(*v)
	}
	builder.WriteString(", ")
	builder.WriteString("property_id=")
	builder.WriteString(_m.PropertyID)
	builder.WriteString(", ")
	builder.WriteString("tenant_role_ids=")
	builder.WriteString(fmt.Sprintf("%v", _m.TenantRoleIds))
	builder.WriteString(", ")
	builder.WriteString("guarantor_role_ids=")
	builder.WriteString(fmt.Sprintf("%v", _m.GuarantorRoleIds))
	builder.WriteString(", ")
	builder.WriteString("lease_type=")
	builder.WriteString(fmt.Sprintf("%v", _m.LeaseType))
	builder.WriteString(", ")
	builder.WriteString("status=")
	builder.WriteString(fmt.Sprintf("%v", _m.Status))
	builder.WriteString(", ")
	builder.WriteString("liability_type=")
	builder.WriteString(fmt.Sprintf("%v", _m.LiabilityType))
	builder.WriteString(", ")
	builder.WriteString("term=")
	builder.WriteString(fmt.Sprintf("%v", _m.Term))
	builder.WriteString(", ")
	if v := _m.LeaseCommencementDate; v != nil {
		builder.WriteString("lease_commencement_date=")
		builder.WriteString(v.Format(time.ANSIC))
	}
	builder.WriteString(", ")
	if v := _m.RentCommencementDate; v != nil {
		builder.WriteString("rent_commencement_date=")
		builder.WriteString(v.Format(time.ANSIC))
	}
	builder.WriteString(", ")
	builder.WriteString("base_rent_amount_cents=")
	builder.WriteString(fmt.Sprintf("%v", _m.BaseRentAmountCents))
	builder.WriteString(", ")
	builder.WriteString("base_rent_currency=")
	builder.WriteString(_m.BaseRentCurrency)
	builder.WriteString(", ")
	builder.WriteString("security_deposit_amount_cents=")
	builder.WriteString(fmt.Sprintf("%v", _m.SecurityDepositAmountCents))
	builder.WriteString(", ")
	builder.WriteString("security_deposit_currency=")
	builder.WriteString(_m.SecurityDepositCurrency)
	builder.WriteString(", ")
	builder.WriteString("rent_schedule=")
	builder.WriteString(fmt.Sprintf("%v", _m.RentSchedule))
	builder.WriteString(", ")
	builder.WriteString("recurring_charges=")
	builder.WriteString(fmt.Sprintf("%v", _m.RecurringCharges))
	builder.WriteString(", ")
	builder.WriteString("late_fee_policy=")
	builder.WriteString(fmt.Sprintf("%v", _m.LateFeePolicy))
	builder.WriteString(", ")
	builder.WriteString("cam_terms=")
	builder.WriteString(fmt.Sprintf("%v", _m.CamTerms))
	builder.WriteString(", ")
	builder.WriteString("tenant_improvement=")
	builder.WriteString(fmt.Sprintf("%v", _m.TenantImprovement))
	builder.WriteString(", ")
	builder.WriteString("renewal_options=")
	builder.WriteString(fmt.Sprintf("%v", _m.RenewalOptions))
	builder.WriteString(", ")
	builder.WriteString("usage_charges=")
	builder.WriteString(fmt.Sprintf("%v", _m.UsageCharges))
	builder.WriteString(", ")
	builder.WriteString("percentage_rent=")
	builder.WriteString(fmt.Sprintf("%v", _m.PercentageRent))
	builder.WriteString(", ")
	builder.WriteString("expansion_rights=")
	builder.WriteString(fmt.Sprintf("%v", _m.ExpansionRights))
	builder.WriteString(", ")
	builder.WriteString("contraction_rights=")
	builder.WriteString(fmt.Sprintf("%v", _m.ContractionRights))
	builder.WriteString(", ")
	builder.WriteString("subsidy=")
	builder.WriteString(fmt.Sprintf("%v", _m.Subsidy))
	builder.WriteString(", ")
	if v := _m.MoveInDate; v != nil {
		builder.WriteString("move_in_date=")
		builder.WriteString(v.Format(time.ANSIC))
	}
	builder.WriteString(", ")
	if v := _m.MoveOutDate; v != nil {
		builder.WriteString("move_out_date=")
		builder.WriteString(v.Format(time.ANSIC))
	}
	builder.WriteString(", ")
	if v := _m.NoticeDate; v != nil {
		builder.WriteString("notice_date=")
		builder.WriteString(v.Format(time.ANSIC))
	}
	builder.WriteString(", ")
	builder.WriteString("notice_required_days=")
	builder.WriteString(fmt.Sprintf("%v", _m.NoticeRequiredDays))
	builder.WriteString(", ")
	if v := _m.CheckInTime; v != nil {
		builder.WriteString("check_in_time=")
		builder.WriteString(*v)
	}
	builder.WriteString(", ")
	if v := _m.CheckOutTime; v != nil {
		builder.WriteString("check_out_time=")
		builder.WriteString(*v)
	}
	builder.WriteString(", ")
	if v := _m.CleaningFeeAmountCents; v != nil {
		builder.WriteString("cleaning_fee_amount_cents=")
		builder.WriteString(fmt.Sprintf("%v", *v))
	}
	builder.WriteString(", ")
	if v := _m.CleaningFeeCurrency; v != nil {
		builder.WriteString("cleaning_fee_currency=")
		builder.WriteString(*v)
	}
	builder.WriteString(", ")
	if v := _m.PlatformBookingID; v != nil {
		builder.WriteString("platform_booking_id=")
		builder.WriteString(*v)
	}
	builder.WriteString(", ")
	if v := _m.MembershipTier; v != nil {
		builder.WriteString("membership_tier=")
		builder.WriteString(fmt.Sprintf("%v", *v))
	}
	builder.WriteString(", ")
	builder.WriteString("is_sublease=")
	builder.WriteString(fmt.Sprintf("%v", _m.IsSublease))
	builder.WriteString(", ")
	builder.WriteString("sublease_billing=")
	builder.WriteString(fmt.Sprintf("%v", _m.SubleaseBilling))
	builder.WriteString(", ")
	if v := _m.SigningMethod; v != nil {
		builder.WriteString("signing_method=")
		builder.WriteString(fmt.Sprintf("%v", *v))
	}
	builder.WriteString(", ")
	if v := _m.SignedAt; v != nil {
		builder.WriteString("signed_at=")
		builder.WriteString(v.Format(time.ANSIC))
	}
	builder.WriteString(", ")
	if v := _m.DocumentID; v != nil {
		builder.WriteString("document_id=")
		builder.WriteString(*v)
	}
	builder.WriteByte(')')
	return builder.String()
}

// Leases is a parsable slice of Lease.
type Leases []*Lease
